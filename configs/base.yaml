# Base Configuration for SPX 0DTE Iron Condor

# --- Global Settings ---
ticker: "SPX"
timezone: "US/Eastern"
currency: "USD"

# --- Strategy Parameters ---
strategy:
  entry_time: "10:00"      # HH:MM (Market time)
  target_delta: 0.10       # Target delta for short legs
  width: 20                # Spread width in points
  
  # Liquidity Gates
  min_credit: 0.50         # Minimum credit to enter
  min_ror: 0.05            # Minimum Return on Risk (Credit/Risk)
  max_spread_pct: 0.10     # Max relative spread (ask-bid)/mid
  max_spread_abs: 1.00     # Max absolute spread in points

# --- Exit Parameters ---
exit:
  take_profit_pct: 0.50    # Exit at 50% of max profit (credit)
  stop_loss_mult: 2.5      # Exit if debit >= 2.5 * credit
  max_hold_minutes: 45     # Time exit
  force_close_time: "15:45" # End of day safety close

# --- Simulation Settings ---
simulation:
  commission_per_leg: 0.65
  slippage_per_leg: 0.00   # Additional slippage (conservatively built into bid/ask usage)
  capital: 10000           # Simulation capital (not strictly used for RoR but for portfolio view)
  
# --- Data Settings ---
data:
  source: "parquet"
  data_path: "./data/raw"  # Placeholder
  dates:
    start: "2023-01-01"
    end: "2023-12-31"

# --- Risk Filters (FOMC/CPI/High Vol Days) ---
filters:
  min_vix: 12.0              # Skip days with VIX below this (low vol = poor premium)
  max_vix: 40.0              # Skip days with VIX above this (extreme risk)
  exclude_dates:             # Blacklist dates (FOMC, CPI, NFP, etc.)
    - "2023-01-25"           # FOMC
    - "2023-02-01"           # FOMC
    - "2023-03-10"           # NFP
    - "2023-03-14"           # CPI
    - "2023-03-22"           # FOMC
    - "2023-05-03"           # FOMC
    - "2023-06-14"           # FOMC + CPI
    - "2023-07-26"           # FOMC
    - "2023-09-20"           # FOMC
    - "2023-11-01"           # FOMC
    - "2023-12-13"           # FOMC + CPI

# --- Optimization Grid (Default Ranges) ---
grid_search:
  target_delta: [0.05, 0.10, 0.15]
  width: [10, 20, 30]
  take_profit_pct: [0.25, 0.50]
  stop_loss_mult: [2.0, 3.0]
